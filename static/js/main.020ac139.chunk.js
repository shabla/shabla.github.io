(this["webpackJsonpreact-starter"]=this["webpackJsonpreact-starter"]||[]).push([[0],{118:function(e,t,n){e.exports=n(161)},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),i=n(8),l=n.n(i),c=n(19),s=n(27),u=(n(123),n(124),n(125),n(20)),p=n.n(u),g=n(164),m=n(26),f=n(15),d=function(){console.log("login page!");return r.a.createElement(r.a.Fragment,null,r.a.createElement(We,{title:"Login"}),r.a.createElement(f.Grid,null,r.a.createElement(f.Col,{xs:12},r.a.createElement(f.Row,{center:"xs"},r.a.createElement(f.Col,{xs:6},r.a.createElement(g.b,{elevation:m.a.THREE},r.a.createElement(f.Row,{style:{marginTop:10,marginBottom:10}},r.a.createElement(g.e,{fill:!0,placeholder:"Username",large:!0})),r.a.createElement(f.Row,{style:{marginTop:10,marginBottom:10}},r.a.createElement(g.e,{fill:!0,placeholder:"Password",large:!0})),r.a.createElement(f.Row,{end:"xs"},r.a.createElement(g.a,{onClick:function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(L.login({username:"foo"}));case 2:console.log("cool");case 3:case"end":return e.stop()}}),null,null,null,Promise)},large:!0},"Login"))))))))},b=n(70);!function(e){e[e.NotLoggedIn=0]="NotLoggedIn",e[e.LoggedIn=1]="LoggedIn"}(a||(a={}));var x,h,v,E=Object(b.a)((function(e){var t=e.redirectTo,n=void 0===t?"/":t,o=e.accessLevel,i=e.children;return L.isLoading?r.a.createElement(g.j,null):o===a.NotLoggedIn&&L.isLoggedIn?(console.log("is logged, trying to go to NotLoggedIn, redirect"),r.a.createElement(s.a,{to:n})):o!==a.LoggedIn||L.isLoggedIn?(console.log("render children"),r.a.createElement(r.a.Fragment,null,i)):(console.log("not logged, trying to go to LoggedIn, keep target and redirect to login"),r.a.createElement(s.a,{to:"".concat(n,"?r=").concat(window.location.pathname)}))})),y=n(46),O=n(16),j=n(24),w=n(28),k=(n(158),n(2)),S=function(e){return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,e)})));case 1:case"end":return t.stop()}}),null,null,null,Promise)},L=new(x=function(){function e(){Object(O.a)(this,e),Object(y.a)(this,"isLoading",h,this),Object(y.a)(this,"session",v,this)}return Object(j.a)(e,[{key:"setSession",value:function(e){console.log("setting session to ",e),this.session=e}},{key:"restoreSession",value:function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,p.a.awrap(S(200));case 3:this.session={username:"Bob"},this.isLoading=!1;case 5:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"login",value:function(e){return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("logging in"),this.isLoading=!0,t.next=4,p.a.awrap(S(200));case 4:this.setSession(e),this.isLoading=!1;case 6:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"logout",value:function(){console.log("logging out"),this.session=null}},{key:"isLoggedIn",get:function(){return null!==this.session}}]),e}(),h=Object(w.a)(x.prototype,"isLoading",[k.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=Object(w.a)(x.prototype,"session",[k.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(w.a)(x.prototype,"setSession",[k.f],Object.getOwnPropertyDescriptor(x.prototype,"setSession"),x.prototype),Object(w.a)(x.prototype,"restoreSession",[k.f],Object.getOwnPropertyDescriptor(x.prototype,"restoreSession"),x.prototype),Object(w.a)(x.prototype,"login",[k.f],Object.getOwnPropertyDescriptor(x.prototype,"login"),x.prototype),Object(w.a)(x.prototype,"logout",[k.f],Object.getOwnPropertyDescriptor(x.prototype,"logout"),x.prototype),Object(w.a)(x.prototype,"isLoggedIn",[k.g],Object.getOwnPropertyDescriptor(x.prototype,"isLoggedIn"),x.prototype),x),z=[r.a.createElement(s.b,{key:"login-page",path:"/login"},r.a.createElement(E,{accessLevel:a.NotLoggedIn,redirectTo:"/"},r.a.createElement(d,null)))],I=n(25),C=n(21),N=(n(159),{0:[[1,1,1],[1,0,1],[1,0,1],[1,0,1],[1,1,1]],1:[[0,0,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1]],2:[[1,1,1],[0,0,1],[1,1,1],[1,0,0],[1,1,1]],3:[[1,1,1],[0,0,1],[1,1,1],[0,0,1],[1,1,1]],4:[[1,0,1],[1,0,1],[1,1,1],[0,0,1],[0,0,1]],5:[[1,1,1],[1,0,0],[1,1,1],[0,0,1],[1,1,1]],6:[[1,1,1],[1,0,0],[1,1,1],[1,0,1],[1,1,1]],7:[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1]],8:[[1,1,1],[1,0,1],[1,1,1],[1,0,1],[1,1,1]],9:[[1,1,1],[1,0,1],[1,1,1],[0,0,1],[0,0,1]]}),P=[[0,0,0],[0,0,0],[0,0,0]],T=function(e){var t=e.number,n=Object(o.useState)(P),a=Object(C.a)(n,2),i=a[0],l=a[1];return Object(o.useEffect)((function(){l(N[t]||P)}),[t]),r.a.createElement("div",{className:"number"},i.map((function(e,t){return r.a.createElement("div",{className:"pixels-row",key:t},e.map((function(e,t){return r.a.createElement("div",{className:"pixel "+(e?"full":"empty"),key:t},"\xa0")})))})))},D=function(){var e=Object(o.useState)([]),t=Object(C.a)(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){var e=function(){var e=new Date,t=e.getHours().toString().padStart(2,"0").split("").map((function(e){return parseInt(e)})),n=e.getMinutes().toString().padStart(2,"0").split("").map((function(e){return parseInt(e)})),o=e.getSeconds().toString().padStart(2,"0").split("").map((function(e){return parseInt(e)}));a([].concat(Object(I.a)(t),Object(I.a)(n),Object(I.a)(o)))};e();var t=setInterval(e,1e3);return function(){clearInterval(t)}}),[]),r.a.createElement("div",{className:"digital-clock"},n.map((function(e,t){return r.a.createElement(T,{number:e,key:t})})))},H=function(){return console.log("!!HomePage!!"),r.a.createElement(r.a.Fragment,null,r.a.createElement(We,{title:"Home Page"}),r.a.createElement(Re,null),r.a.createElement(f.Grid,null,r.a.createElement(f.Col,{style:{margin:10}},r.a.createElement(g.b,{elevation:m.a.TWO},r.a.createElement(g.c,null,"Hello World"),r.a.createElement(g.k,null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ea adipisci enim perferendis esse architecto voluptatem totam distinctio veritatis itaque porro eveniet, at, similique velit molestias possimus autem assumenda animi?"))),r.a.createElement(f.Col,{style:{margin:10}},r.a.createElement(g.b,{elevation:m.a.TWO},r.a.createElement(D,null),r.a.createElement(c.b,{to:"/profile"},"Go to profile")))))},F=[r.a.createElement(s.b,{key:"home-page",exact:!0,path:"/"},r.a.createElement(E,{accessLevel:a.LoggedIn,redirectTo:"/login"},r.a.createElement(H,null)))],B=function(){return console.log("ProfilePage!!"),r.a.createElement("div",null,r.a.createElement(We,{title:"Profile"}),r.a.createElement(Re,null),"profile page")},R=[r.a.createElement(s.b,{key:"profile-page",exact:!0,path:"/profile"},r.a.createElement(E,{accessLevel:a.LoggedIn,redirectTo:"/login"},r.a.createElement(B,null)))],W=n(10),M=n(11),Y=n(17),q=n(62),A=n(63),G=n.n(A),J=n(64),U=n.n(J),_=n(65),V=n.n(_),K={"characters.json":q,"images/grass.png":G.a,"images/portrait.jpg":U.a,"images/char.webp":V.a},Q=function(e){return K[e]},X=n(66),Z=n.n(X);function $(){var e=Object(W.a)(["\n    width: ",";\n    height: ",";\n    position: absolute;\n    ","\n    ",'\n\n    /* Horizontal Highlight */\n    :before {\n        content: "";\n        height: 1px;\n        width: ',";\n        position: absolute;\n        \n        ","\n        ",'\n    }\n\n    /* Vertical Highlight */\n    :after {\n        content: "";\n        height: ',";\n        width: 1px;\n        position: absolute;\n        ","\n        ","\n    }\n"]);return $=function(){return e},e}var ee="#ffffffab",te="50px",ne=M.a.div($(),te,te,(function(e){return"".concat(e.side,": 0;")}),(function(e){return"".concat(e.level,": 0;")}),te,(function(e){return"".concat(e.level,": 0;")}),(function(e){return e.only&&"horizontal"!==e.only?"":"background: linear-gradient(to ".concat(e.side,", transparent, ").concat(ee,");")}),te,(function(e){return"".concat(e.side,": 0;")}),(function(e){return e.only&&"vertical"!==e.only?"":"background: linear-gradient(to ".concat(e.level,", transparent, ").concat(ee,");")}));function ae(){var e=Object(W.a)(["\n    color: white;\n    position: absolute;\n    bottom: 10px;\n    right: 10px;\n"]);return ae=function(){return e},e}function oe(){var e=Object(W.a)(["\n    color: #fff;\n    margin-left: ","px;\n    font-size: 14px;\n    padding: 6px 14px;\n    text-shadow: 1px 1px black, 2px 2px #222;\n    background: rgba(0, 0, 0, 0.7);\n    box-shadow: 0 0 15px 2px inset rgba(0, 0, 0, 0.5);\n    border: 1px solid black;\n    border-bottom-width: 0;\n\n    &:last-of-type {\n        border-bottom-width: 1px;\n    }\n\n    :hover {\n        background: darkgoldenrod;\n        cursor: pointer;\n    }\n"]);return oe=function(){return e},e}function re(){var e=Object(W.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return re=function(){return e},e}function ie(){var e=Object(W.a)(["\n    padding: 10px 18px;\n    font-size: 22px;\n    line-height: 30px;\n    border-left: 0;\n    border-top-right-radius: ","px;\n    border-bottom-right-radius: ","px;\n    flex: 1 0 400px; /* this is black magic */\n    color: #eee;\n    text-shadow: 1px 1px black, 2px 2px #222;\n    background: rgba(0, 0, 0, 0.7);\n    box-shadow: 0 0 30px 2px inset rgba(0, 0, 0, 0.5);\n    position: relative;\n"]);return ie=function(){return e},e}function le(){var e=Object(W.a)(["\n    color: #f1ab54;\n    font-size: 16px;\n    text-align: center;\n    line-height: ","px;\n"]);return le=function(){return e},e}function ce(){var e=Object(W.a)(["\n    height: ","px;\n    width: ","px;\n    box-shadow: 0 0 5px black;\n    display: block;\n"]);return ce=function(){return e},e}function se(){var e=Object(W.a)(["\n    width: ","px;\n    height: ","px;\n    padding: ","px;\n    border-radius: ","px;\n    flex: 0 0 ","px;\n    background: rgba(0, 0, 0, 0.7);\n    box-shadow: 0 0 6px 3px inset rgba(0, 0, 0, 0.5);\n    position: relative;\n    z-index: 10;\n"]);return se=function(){return e},e}function ue(){var e=Object(W.a)(["\n    display: flex;\n    flex-direction: row;\n    overflow: hidden;\n"]);return ue=function(){return e},e}function pe(){var e=Object(W.a)(["\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    bottom: 20px;\n    left: 15px;\n    right: 15px;\n    z-index: 10;\n    transition: opacity 0.8s ease-out;\n    width: 600px;\n"]);return pe=function(){return e},e}var ge={imageSize:120,imageFrameSize:8,nameHeight:30},me=4,fe=Object(M.a)(Y.a.div)(pe()),de=Object(M.a)(Y.a.div)(ue()),be=M.a.div(se(),ge.imageSize+2*ge.imageFrameSize,ge.imageSize+2*ge.imageFrameSize+ge.nameHeight,ge.imageFrameSize,me,ge.imageSize+2*ge.imageFrameSize),xe=M.a.img(ce(),ge.imageSize,ge.imageSize),he=M.a.div(le(),ge.nameHeight),ve=M.a.div(ie(),me,me),Ee=M.a.div(re()),ye=Object(M.a)(Y.a.div)(oe(),ge.imageSize+2*ge.imageFrameSize),Oe=Object(M.a)(Object(Y.a)(g.d)).attrs({icon:"caret-down",iconSize:20})(ae()),je=function(e){var t=e.target,n=e.onComplete,a=Object(o.useState)(t.dialogs[t.initialDialog]),i=Object(C.a)(a,2),l=i[0],c=i[1],s=Object(o.useState)(),u=Object(C.a)(s,2),p=u[0],g=u[1],m=Object(o.useState)([]),f=Object(C.a)(m,2),d=f[0],b=f[1],x=Object(o.useState)(!1),h=Object(C.a)(x,2),v=h[0],E=h[1],y=Object(Y.b)({opacity:1,transform:"translateY(0) scale(1)",from:{opacity:0,transform:"translateY(-20%) scale(0.9)"}}),O=Object(Y.b)({opacity:1,from:{opacity:0}}),j=Object(Y.b)({opacity:1,transform:"scale(1)",from:{opacity:0,transform:"scale(0.5)"}}),w=Object(Y.c)(d.length,{opacity:1,transform:"translateY(0)",from:{opacity:0,transform:"translateY(75%)"}});Object(o.useEffect)((function(){t&&(console.log("Update current dialog to initial dialog tree",t.dialogs[t.initialDialog]),c(t.dialogs[t.initialDialog]))}),[t]),Object(o.useEffect)((function(){var e=null===l||void 0===l?void 0:l.steps;e&&(console.log("Update current step to first dialog step"),g(e[0]))}),[l]),Object(o.useEffect)((function(){if(p){b(p.options||[]);var e=null!=p.options,a=k(l,p);E(null!==a),e||a||(console.log("Not waiting for option and no next step, wait and close"),S(1e3).then((function(){return n(t)})))}}),[t,l,p,n]);var k=function(e,t){if(!e.steps)return null;var n=e.steps.indexOf(t);return n<0||n>=e.steps.length-1?null:e.steps[n+1]},L=r.a.useCallback((function(){if(l&&p){var e=null!=p.options,a=k(l,p);console.log("Waiting for option?",e,"Next step:",a),!e&&a?g(a):e||a||n(t)}}),[l,p,n,t]);Object(o.useEffect)((function(){var e=function(e){console.log(e),L()};return window.addEventListener("keypress",e),function(){window.removeEventListener("keypress",e)}}),[p,L]);return r.a.createElement(fe,{style:O},r.a.createElement(Ee,null,w.map((function(e,a){return r.a.createElement(ye,{key:a,style:e,onClick:function(){return e=d[a],console.log("Selected option:",e),void(e.next?c(t.dialogs[e.next]):n(t));var e}},d[a].text)}))),r.a.createElement(de,{style:y},r.a.createElement(be,null,r.a.createElement(ne,{level:"top",side:"left"}),r.a.createElement(ne,{level:"top",side:"right"}),r.a.createElement(ne,{level:"bottom",side:"left"}),r.a.createElement(ne,{level:"bottom",side:"right"}),r.a.createElement(xe,{src:Q(t.portraitImage),alt:""}),r.a.createElement(he,null,t.name)),r.a.createElement(ve,{onClick:function(e){return L()}},r.a.createElement(ne,{level:"top",side:"left",only:"horizontal"}),r.a.createElement(ne,{level:"top",side:"right"}),r.a.createElement(ne,{level:"bottom",side:"left",only:"horizontal"}),r.a.createElement(ne,{level:"bottom",side:"right"}),r.a.createElement(Z.a,{key:null===p||void 0===p?void 0:p.text,avgTypingDelay:10,stdTypingDelay:10,startDelay:200,cursor:{show:!1}},null===p||void 0===p?void 0:p.text),v&&r.a.createElement(Oe,{style:j}))))};function we(){var e=Object(W.a)(["\n    @keyframes floaty {\n        0% {\n            transform: translate(-50%, -10px);\n        }\n        50% {\n            transform: translate(-50%, -20px);\n        }\n        100% {\n            transform: translate(-50%, -10px);\n        }\n    }\n\n    color: #ffdd37;\n    position: absolute;\n    left: 50%;\n    top: 0;\n    transform: translate(-50%, -20px);\n    z-index: 5;\n    filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.3));\n    animation: 1s floaty ease infinite;\n\n    :hover {\n        cursor: pointer;\n    }\n"]);return we=function(){return e},e}function ke(){var e=Object(W.a)(["\n    position: absolute;\n    z-index: 5;\n    left: 0;\n    right: 0;\n    background: black;\n    ","\n"]);return ke=function(){return e},e}function Se(){var e=Object(W.a)(["\n    position: relative;\n    z-index: 1;\n\n    img {\n        height: 150px;\n        transition: filter 0.2s ease;\n\n        :hover {\n            cursor: pointer;\n            filter: drop-shadow(0px 0px 1px #00ff00) drop-shadow(0px 0px 1px #00ff00)\n                drop-shadow(0px 0px 1px #00ff00);\n        }\n\n        ","\n    }\n"]);return Se=function(){return e},e}function Le(){var e=Object(W.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 0;\n    background-image: url(",");\n    background-repeat: repeat;\n    background-size: 64px 64px;\n    filter: blur(",");\n    transition: filter 0.6s ease-in-out;\n"]);return Le=function(){return e},e}function ze(){var e=Object(W.a)(["\n    padding: 10px;\n    position: relative;\n    height: calc(100vh - 50px);\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1;\n"]);return ze=function(){return e},e}var Ie=[Q("characters.json").cat_mcmeow],Ce=M.a.div(ze()),Ne=M.a.div(Le(),Q("images/grass.png"),(function(e){return e.focused?1:0})),Pe=M.a.div(Se(),(function(e){return e.active?"\n                filter: \n                    drop-shadow(0px 0px 1px #00ff00) \n                    drop-shadow(0px 0px 1px #00ff00)\n                    drop-shadow(0px 0px 1px #00ff00);\n            ":""})),Te=Object(M.a)(Y.a.div)(ke(),(function(e){return e.pos?"".concat(e.pos,": 0;"):""})),De=Object(M.a)(g.d).attrs({icon:"error",iconSize:40})(we()),He=function(){var e=Object(o.useState)(null),t=Object(C.a)(e,2),n=t[0],a=t[1],i=Object(Y.b)({height:n?"15%":"0%",opacity:n?1:0});return r.a.createElement(Ce,null,r.a.createElement(We,{title:"Dialog Viewer"}),r.a.createElement(Re,null),r.a.createElement(Ne,{focused:null!=n}),r.a.createElement(Te,{pos:"top",style:i}),r.a.createElement(Te,{pos:"bottom",style:i}),Ie.map((function(e,t){return r.a.createElement("div",{style:{position:"relative"},key:t},r.a.createElement(De,{onClick:function(){return a(e)}}),r.a.createElement(Pe,{key:t,active:n===e},r.a.createElement("img",{src:Q(e.worldImage),alt:e.name,onClick:function(){return a(e)}})))})),n&&r.a.createElement(je,{target:n,onComplete:function(e){console.log("dialog is over"),a(null)}}))},Fe=[r.a.createElement(s.b,{key:"dialogs-viewer-page",exact:!0,path:"/dialog-viewer"},r.a.createElement(E,{accessLevel:a.LoggedIn,redirectTo:"/login"},r.a.createElement(He,null)))],Be=(n(160),function(){return r.a.useEffect((function(){L.restoreSession()}),[]),r.a.createElement(c.a,null,r.a.createElement(s.d,null,z,F,R,Fe,r.a.createElement(s.b,null,r.a.createElement(s.a,{to:"/"}))))}),Re=function(){console.log("Navbar!!");var e=Object(s.g)();return r.a.createElement(g.f,{className:"bp3-dark",fixedToTop:!0},r.a.createElement(g.h,{align:"left"},r.a.createElement(g.i,null,"Super App")),r.a.createElement(g.h,{align:"right"},r.a.createElement(g.a,{icon:"home",minimal:!0,onClick:function(){e.push("/")}}),r.a.createElement(g.g,null),r.a.createElement(g.a,{icon:"chat",minimal:!0,onClick:function(){e.push("/dialog-viewer")}}),r.a.createElement(g.g,null),r.a.createElement(g.a,{icon:"user",minimal:!0,onClick:function(){e.push("/profile")}}),r.a.createElement(g.g,null),r.a.createElement(g.a,{rightIcon:"power",minimal:!0,onClick:function(){L.logout()}},"Logout")))},We=function(e){var t=e.title;return Object(o.useEffect)((function(){document.title="".concat(t," \xb7 My Cool App")}),[t]),null};l.a.render(r.a.createElement(Be,null),document.getElementById("root"))},62:function(e){e.exports=JSON.parse('{"cat_mcmeow":{"id":"cat_mcmeow","name":"Cat McMeow","worldImage":"images/char.webp","portraitImage":"images/portrait.jpg","initialDialog":"start","dialogs":{"start":{"steps":[{"text":"Hello there!"},{"text":"I like turtles..."},{"text":"Watcha doing?","options":[{"text":"Not much","next":"boring"},{"text":"Coding","next":"exciting"},{"text":"None of your business","next":"rude"},{"text":"Bye"}]}]},"boring":{"steps":[{"text":"K"}]},"exciting":{"steps":[{"text":"Oooh, that sounds fun!"}]},"rude":{"steps":[{"text":"Alright, alright, nevermind."}]}}}}')},63:function(e,t,n){e.exports=n.p+"static/media/grass.fe1180da.png"},64:function(e,t,n){e.exports=n.p+"static/media/portrait.9d937c2c.jpg"},65:function(e,t,n){e.exports=n.p+"static/media/char.57f4cfcd.webp"}},[[118,1,2]]]);
//# sourceMappingURL=main.020ac139.chunk.js.map